import{u as g,r as a,a as x,c as r,j as o,H as b}from"./app.e07d7c49.js";import{c as C}from"./index.0579b088.js";import{A as N}from"./AuthenticationCard.b5807b77.js";import{I as d}from"./InputLabel.05559824.js";import{P as R}from"./PrimaryButton.3d18492a.js";import{T as m,I as f}from"./TextInput.fbd1d8a9.js";import"./AuthenticationCardLogo.6758a81c.js";function P(){const p=g(),[c,y]=a.exports.useState(!1),e=x({code:"",recovery_code:""}),s=a.exports.useRef(null),n=a.exports.useRef(null);function v(t){t.preventDefault();const i=!c;y(i),setTimeout(()=>{var l,u;i?((l=s.current)==null||l.focus(),e.setData("code","")):((u=n.current)==null||u.focus(),e.setData("recovery_code",""))},100)}function h(t){t.preventDefault(),e.post(p("two-factor.login"))}return r(N,{children:[o(b,{title:"Two-Factor Confirmation"}),o("div",{className:"mb-4 text-sm text-slate-600",children:c?"Please confirm access to your account by entering one of your emergency recovery codes.":"Please confirm access to your account by entering the authentication code provided by your authenticator application."}),r("form",{onSubmit:h,children:[c?r("div",{children:[o(d,{htmlFor:"recovery_code",children:"Recovery Code"}),o(m,{id:"recovery_code",type:"text",className:"mt-1 block w-full",value:e.data.recovery_code,onChange:t=>e.setData("recovery_code",t.currentTarget.value),ref:s,autoComplete:"one-time-code"}),o(f,{className:"mt-2",message:e.errors.recovery_code})]}):r("div",{children:[o(d,{htmlFor:"code",children:"Code"}),o(m,{id:"code",type:"text",inputMode:"numeric",className:"mt-1 block w-full",value:e.data.code,onChange:t=>e.setData("code",t.currentTarget.value),autoFocus:!0,autoComplete:"one-time-code",ref:n}),o(f,{className:"mt-2",message:e.errors.code})]}),r("div",{className:"flex items-center justify-end mt-4",children:[o("button",{type:"button",className:"text-sm text-slate-600 hover:text-slate-900 underline cursor-pointer",onClick:v,children:c?"Use an authentication code":"Use a recovery code"}),o(R,{className:C("ml-4",{"opacity-25":e.processing}),disabled:e.processing,children:"Log in"})]})]})]})}export{P as default};
